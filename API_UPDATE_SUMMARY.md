# ููุฎุต ุชุญุฏูุซุงุช API - RKS Order Bot ๐

## ุงูุชุญุฏูุซุงุช ุงููุถุงูุฉ โ

### 1. ูููุงุช ุฌุฏูุฏุฉ ุชู ุฅูุดุงุคูุง:
- `api_manager.py` - ูุฏูุฑ API ูุฅุฑุณุงู ุงูุทูุจุงุช
- `test_api_connection.py` - ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจู API
- `API_INTEGRATION_GUIDE.md` - ุฏููู ุงุณุชุฎุฏุงู ููุฒุฉ API
- `API_UPDATE_SUMMARY.md` - ูุฐุง ุงูููู

### 2. ูููุงุช ุชู ุชุญุฏูุซูุง:
- `config.py` - ุฅุถุงูุฉ ุฅุนุฏุงุฏุงุช API
- `database_manager.py` - ุฅุถุงูุฉ ุฏูุงู ุฅุฏุงุฑุฉ API ูุฌุฏูู ุฌุฏูุฏ
- `bot_clean.py` - ุฅุถุงูุฉ ููุฒุฉ ุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู API

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ๐

### ุฅุฑุณุงู ุชููุงุฆู ููุทูุจุงุช:
- ูู ุทูุจ ุฌุฏูุฏ ูุชู ุฅุฑุณุงูู ุชููุงุฆูุงู ุฅูู API
- ุชุณุฌูู ุญุงูุฉ ุงูุฅุฑุณุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนุฑุถ ุญุงูุฉ API ูู ุฑุณุงูุฉ ุงูุชุฃููุฏ

### ูุฑุงูุจุฉ ุญุงูุฉ API:
- ุฎูุงุฑ "๐ ุญุงูุฉ API" ูู ูุงุฆูุฉ ุงููุฏูุฑ
- ุนุฑุถ ุงูุทูุจุงุช ุงููุงุดูุฉ
- ุฅููุงููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

### ุชุชุจุน ุงูุทูุจุงุช:
- ุฌุฏูู `api_orders` ุฌุฏูุฏ
- ุชุณุฌูู ูุนุฑูุงุช ุงูุทูุจุงุช ูู API
- ุชุชุจุน ุงููุญุงููุงุช ุงููุงุดูุฉ

## ุงูุชุบููุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ๐๏ธ

### ุฌุฏูู ุฌุฏูุฏ: `api_orders`
```sql
CREATE TABLE api_orders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    invoice_id INTEGER,
    receipt_number TEXT,
    api_order_id INTEGER,
    api_order_group_id TEXT,
    api_status TEXT,
    api_message TEXT,
    sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    retry_count INTEGER DEFAULT 0,
    last_retry TIMESTAMP,
    FOREIGN KEY (invoice_id) REFERENCES invoices (id)
);
```

### ุฏูุงู ุฌุฏูุฏุฉ ูู DatabaseManager:
- `record_api_order()` - ุชุณุฌูู ูุชูุฌุฉ API
- `get_api_order_status()` - ุญุงูุฉ ุงูุทูุจ ูู API
- `get_failed_api_orders()` - ุงูุทูุจุงุช ุงููุงุดูุฉ
- `update_api_order_retry()` - ุชุญุฏูุซ ุงููุญุงููุงุช
- `get_invoice_by_receipt()` - ุจูุงูุงุช ุงููุงุชูุฑุฉ

## ุฅุนุฏุงุฏุงุช API ุงูุฌุฏูุฏุฉ โ๏ธ

### ูู config.py:
```python
# API Settings
API_ENABLED = True
API_BASE_URL = "https://rocklis.com/api/v1/admin/order/create"
API_USERNAME = "admin"
API_PASSWORD = "admin123"
API_TIMEOUT = 30
```

## ููููุฉ ุงูุงุฎุชุจุงุฑ ๐งช

### 1. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:
```bash
python test_api_connection.py
```

### 2. ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ:
- ุฃุถู ุทูุจ ุฌุฏูุฏ ุนุจุฑ ุงูุจูุช
- ุชุญูู ูู ุฑุณุงูุฉ ุงูุชุฃููุฏ
- ุฑุงุฌุน ุญุงูุฉ API

### 3. ุงุฎุชุจุงุฑ ูุฑุงูุจุฉ API:
- ุงุฏุฎู ููุฏูุฑ
- ุงุฎุชุฑ "๐ ุญุงูุฉ API"
- ุชุญูู ูู ุงููุนูููุงุช ุงููุนุฑูุถุฉ

## ุงูุชุญุฏูุซุงุช ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ๐ฑ

### ููููุธููู ุงูุนุงุฏููู:
- ูุง ููุฌุฏ ุชุบููุฑ ูู ุงูุงุณุชุฎุฏุงู
- ุฑุณุงุฆู ุงูุชุฃููุฏ ุชุญุชูู ุนูู ุญุงูุฉ API

### ูููุฏูุฑูู:
- ุฎูุงุฑ ุฌุฏูุฏ "๐ ุญุงูุฉ API" ูู ุงููุงุฆูุฉ
- ุฒุฑ "๐ ุฅุนุงุฏุฉ ุงููุญุงููุฉ ููุทูุจุงุช ุงููุงุดูุฉ"
- ุนุฑุถ ุชูุตููู ููุทูุจุงุช ุงููุงุดูุฉ

## ุฑุณุงุฆู ุงูุชุฃููุฏ ุงููุญุฏุซุฉ ๐

### ุนูุฏ ูุฌุงุญ ุงูุฅุฑุณุงู:
```
๐ ุญุงูุฉ API:
โ ุชู ุฅุฑุณุงู ุงูุทูุจ ุฅูู ุงููุธุงู ุงูุฎุงุฑุฌู ุจูุฌุงุญ
๐ ูุนุฑู ุงูุทูุจ: 12345
๐ ูุฌููุนุฉ ุงูุทูุจ: API-1703123456-1234
```

### ุนูุฏ ูุดู ุงูุฅุฑุณุงู:
```
๐ ุญุงูุฉ API:
โ ูุดู ูู ุฅุฑุณุงู ุงูุทูุจ ุฅูู ุงููุธุงู ุงูุฎุงุฑุฌู
โ๏ธ ุงูุณุจุจ: ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู
๐ก ุณูุชู ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุชููุงุฆูุงู
```

## ุงูุฃูุงู ูุงูุงุณุชูุฑุงุฑ ๐

### ููุฒุงุช ุงูุฃูุงู:
- ุงุณุชุฎุฏุงู HTTPS
- ูููุฉ ุฒูููุฉ ููุงุชุตุงู
- ุชุณุฌูู ุฌููุน ุงููุญุงููุงุช
- ุฅููุงููุฉ ุฅูุบุงุก ุชูุนูู API

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:
- ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ
- ุชุณุฌูู ุงูุฃุฎุทุงุก
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ุนุฏู ุชุนููู ุงูุจูุช ุนูุฏ ูุดู API

## ุงูุฎุทูุงุช ุงูุชุงููุฉ ๐

### ููุชุดุบูู:
1. ุชุฃูุฏ ูู ุตุญุฉ ุฅุนุฏุงุฏุงุช API ูู `config.py`
2. ุงุฎุชุจุฑ ุงูุงุชุตุงู: `python test_api_connection.py`
3. ุดุบู ุงูุจูุช: `python bot_clean.py`
4. ุงุฎุชุจุฑ ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ

### ููุชุทููุฑ:
- ูุฑุงุฌุนุฉ ุฏููู API: `API_INTEGRATION_GUIDE.md`
- ุชุฎุตูุต ุฅุนุฏุงุฏุงุช API ุญุณุจ ุงูุญุงุฌุฉ
- ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูููุฒุงุช ุญุณุจ ุงูุทูุจ

## ููุงุญุธุงุช ูููุฉ โ๏ธ

1. **ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ**: ุจุนุถ ุงูุจูุงูุงุช ูุซู `customer_id` ู `product_id` ุชุณุชุฎุฏู ููู ุงูุชุฑุงุถูุฉ
2. **ุงูุชุฎุตูุต**: ูููู ุชุฎุตูุต ุชุญููู ุงูุจูุงูุงุช ุญุณุจ ูุชุทูุจุงุช ุงููุธุงู ุงูุฎุงุฑุฌู
3. **ุงููุฑุงูุจุฉ**: ูููุตุญ ุจูุฑุงูุจุฉ ุณุฌูุงุช ุงูุจูุช ููุชุฃูุฏ ูู ุนูู API
4. **ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ**: ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุฏุนู ๐ฌ

- ุฑุงุฌุน `API_INTEGRATION_GUIDE.md` ููุชูุงุตูู ุงููุงููุฉ
- ุงุณุชุฎุฏู `test_api_connection.py` ูุงุฎุชุจุงุฑ ุงูุงุชุตุงู
- ุชุญูู ูู ุณุฌูุงุช ุงูุจูุช ููุฃุฎุทุงุก
- ุฑุงุฌุน ุฅุนุฏุงุฏุงุช `config.py` ููุชูููู

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 15 ููุงูุฑ 2024  
**ุงูุฅุตุฏุงุฑ**: 2.0.0  
**ุงููุทูุฑ**: RKS Team
