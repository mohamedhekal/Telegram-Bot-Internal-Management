#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ุงุฎุชุจุงุฑ ููุฒุงุช ุงูุชุฃููุฏ ูู ุฅุนุฏุงุฏุงุช ุงููุธุงู
"""

from database_manager import DatabaseManager
import config

def test_system_stats_with_new_fields():
    """ุงุฎุชุจุงุฑ ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงููุธุงู ูุน ุงูุญููู ุงูุฌุฏูุฏุฉ"""
    print("๐งช ุงุฎุชุจุงุฑ ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงููุธุงู ูุน ุงูุญููู ุงูุฌุฏูุฏุฉ...")
    print("=" * 70)
    
    # ุชููุฆุฉ ูุฏูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
    db_manager = DatabaseManager()
    
    # ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงููุธุงู
    stats = db_manager.get_system_stats()
    
    if stats:
        print("โ ุชู ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงููุธุงู ุจูุฌุงุญ")
        print(f"๐ ุฅุญุตุงุฆูุงุช ุงููุธุงู:")
        print(f"   ๐ ุงูููุงุชูุฑ: {stats['invoices_count']} ูุงุชูุฑุฉ")
        print(f"   ๐ฅ ุงููุณุชุฎุฏููู: {stats['users_count']} ูุณุชุฎุฏู")
        print(f"   ๐ ุงููุฑุชุฌุนุงุช: {stats['returns_count']} ูุฑุชุฌุน")
        print(f"   ๐ ุณุฌูุงุช API: {stats['api_orders_count']} ุณุฌู")
        print(f"   ๐ ูููุงุช ุงููุฑูุฑ: {stats['passwords_count']} ูููุฉ ูุฑูุฑ")
        print(f"   ๐ ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ: {stats['daily_stats_count']} ุณุฌู")
        print(f"   ๐ ุฅุญุตุงุฆูุงุช ุงูุดุญู: {stats['shipping_stats_count']} ุณุฌู")
    else:
        print("โ ูุดู ูู ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงููุธุงู")
    
    print()

def test_confirmation_messages():
    """ุงุฎุชุจุงุฑ ุฑุณุงุฆู ุงูุชุฃููุฏ"""
    print("๐งช ุงุฎุชุจุงุฑ ุฑุณุงุฆู ุงูุชุฃููุฏ...")
    print("=" * 50)
    
    # ุชููุฆุฉ ูุฏูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
    db_manager = DatabaseManager()
    stats = db_manager.get_system_stats()
    
    if not stats:
        print("โ ูุง ูููู ุงุฎุชุจุงุฑ ุฑุณุงุฆู ุงูุชุฃููุฏ ุจุฏูู ุฅุญุตุงุฆูุงุช ุงููุธุงู")
        return
    
    print("๐ ุฑุณุงูุฉ ุชุฃููุฏ ุญุฐู ุงูููุงุชูุฑ ุงููุฏููุฉ:")
    print("-" * 40)
    delete_confirmation = f"""
โ๏ธ ุชุฃููุฏ ุญุฐู ุงูููุงุชูุฑ ุงููุฏููุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐๏ธ ุณูุชู ุญุฐู:
โข ุงูููุงุชูุฑ: {stats['invoices_count']} ูุงุชูุฑุฉ
โข ุณุฌูุงุช API: {stats['api_orders_count']} ุณุฌู
โข ุงููุฑุชุฌุนุงุช: {stats['returns_count']} ูุฑุชุฌุน
โข ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ: {stats['daily_stats_count']} ุณุฌู
โข ุฅุญุตุงุฆูุงุช ุงูุดุญู: {stats['shipping_stats_count']} ุณุฌู

โ ุณูุชู ุงูุงุญุชูุงุธ ุจู:
โข ุฌููุน ุงููุณุชุฎุฏููู ({stats['users_count']} ูุณุชุฎุฏู)
โข ุฌููุน ูููุงุช ุงููุฑูุฑ ({stats['passwords_count']} ูููุฉ ูุฑูุฑ)

โ๏ธ ุชุญุฐูุฑ: ูุฐู ุงูุนูููุฉ ูุง ูููู ุงูุชุฑุงุฌุน ุนููุง!
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูู ุฃูุช ูุชุฃูุฏ ูู ุฑุบุจุชู ูู ุญุฐู ุงูููุงุชูุฑ ุงููุฏููุฉุ
"""
    print(delete_confirmation)
    
    print("\n๐ ุฑุณุงูุฉ ุชุฃููุฏ ุชุตููุฑ ุงูุฅุญุตุงุฆูุงุช:")
    print("-" * 40)
    reset_confirmation = f"""
โ๏ธ ุชุฃููุฏ ุชุตููุฑ ุงูุฅุญุตุงุฆูุงุช
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ุณูุชู ุชุตููุฑ:
โข ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ: {stats['daily_stats_count']} ุณุฌู
โข ุฅุญุตุงุฆูุงุช ุงูุดุญู: {stats['shipping_stats_count']} ุณุฌู

โ ุณูุชู ุงูุงุญุชูุงุธ ุจู:
โข ุฌููุน ุงูููุงุชูุฑ ({stats['invoices_count']} ูุงุชูุฑุฉ)
โข ุฌููุน ุงููุฑุชุฌุนุงุช ({stats['returns_count']} ูุฑุชุฌุน)
โข ุฌููุน ุณุฌูุงุช API ({stats['api_orders_count']} ุณุฌู)
โข ุฌููุน ุงููุณุชุฎุฏููู ({stats['users_count']} ูุณุชุฎุฏู)
โข ุฌููุน ูููุงุช ุงููุฑูุฑ ({stats['passwords_count']} ูููุฉ ูุฑูุฑ)

โ๏ธ ุชุญุฐูุฑ: ูุฐู ุงูุนูููุฉ ูุง ูููู ุงูุชุฑุงุฌุน ุนููุง!
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูู ุฃูุช ูุชุฃูุฏ ูู ุฑุบุจุชู ูู ุชุตููุฑ ุงูุฅุญุตุงุฆูุงุชุ
"""
    print(reset_confirmation)
    
    print("\n๐ ุฑุณุงูุฉ ุชุฃููุฏ ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู:")
    print("-" * 40)
    system_confirmation = f"""
๐จ ุชุฃููุฏ ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐๏ธ ุณูุชู ุญุฐู ูู ุดูุก:
โข ุงูููุงุชูุฑ: {stats['invoices_count']} ูุงุชูุฑุฉ
โข ุณุฌูุงุช API: {stats['api_orders_count']} ุณุฌู
โข ุงููุฑุชุฌุนุงุช: {stats['returns_count']} ูุฑุชุฌุน
โข ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ: {stats['daily_stats_count']} ุณุฌู
โข ุฅุญุตุงุฆูุงุช ุงูุดุญู: {stats['shipping_stats_count']} ุณุฌู
โข ูููุงุช ุงููุฑูุฑ: {stats['passwords_count']} ูููุฉ ูุฑูุฑ

โ ุณูุชู ุงูุงุญุชูุงุธ ุจู:
โข ุฌููุน ุงููุณุชุฎุฏููู ููุท ({stats['users_count']} ูุณุชุฎุฏู)

๐จ ุชุญุฐูุฑ ุฎุทูุฑ: ูุฐู ุงูุนูููุฉ ุณุชุคุฏู ุฅูู:
โข ุญุฐู ุฌููุน ุงูุจูุงูุงุช ููุงุฆูุงู
โข ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู ุจุงููุงูู
โข ุนุฏู ุฅููุงููุฉ ุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช ุงููุญุฐููุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูู ุฃูุช ูุชุฃูุฏ ุชูุงูุงู ูู ุฑุบุจุชู ูู ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงูุ
"""
    print(system_confirmation)
    
    print()

def test_button_structure():
    """ุงุฎุชุจุงุฑ ูููู ุงูุฃุฒุฑุงุฑ"""
    print("๐งช ุงุฎุชุจุงุฑ ูููู ุงูุฃุฒุฑุงุฑ...")
    print("=" * 40)
    
    print("๐ ุฃุฒุฑุงุฑ ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุฃุณุงุณูุฉ:")
    print("   โข ๐๏ธ ุญุฐู ุงูููุงุชูุฑ ุงููุฏููุฉ (delete_old_invoices)")
    print("   โข ๐ ุชุตููุฑ ุงูุฅุญุตุงุฆูุงุช (reset_statistics)")
    print("   โข ๐ ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู (reset_system)")
    print("   โข ๐ ุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ (back_to_admin)")
    
    print("\n๐ ุฃุฒุฑุงุฑ ุงูุชุฃููุฏ:")
    print("   โข โ ูุนูุ ุงุญุฐู ุงูููุงุชูุฑ (confirm_delete_old_invoices)")
    print("   โข โ ูุนูุ ุตูุฑ ุงูุฅุญุตุงุฆูุงุช (confirm_reset_statistics)")
    print("   โข ๐จ ูุนูุ ุฃุนูุฏ ุชุนููู ุงููุธุงู (confirm_reset_system)")
    print("   โข โ ุฅูุบุงุก ุงูุนูููุฉ (cancel_operation)")
    
    print()

def test_safety_features():
    """ุงุฎุชุจุงุฑ ููุฒุงุช ุงูุฃูุงู"""
    print("๐งช ุงุฎุชุจุงุฑ ููุฒุงุช ุงูุฃูุงู...")
    print("=" * 40)
    
    print("โ ููุฒุงุช ุงูุฃูุงู ุงููุถุงูุฉ:")
    print("   โข ุฑุณุงุฆู ุชุฃููุฏ ููุตูุฉ ูุจู ูู ุนูููุฉ")
    print("   โข ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ูุจู ุงูุญุฐู")
    print("   โข ุชุญุฐูุฑุงุช ูุงุถุญุฉ ุนู ุนุฏู ุฅููุงููุฉ ุงูุชุฑุงุฌุน")
    print("   โข ุฃุฒุฑุงุฑ ุฅูุบุงุก ูู ูู ุฎุทูุฉ")
    print("   โข ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ")
    print("   โข ุญูุงูุฉ ุงููุณุชุฎุฏููู ูู ุงูุญุฐู")
    
    print("\nโ๏ธ ูุณุชููุงุช ุงูุชุญุฐูุฑ:")
    print("   โข โ๏ธ ุชุญุฐูุฑ ุนุงุฏู - ูุญุฐู ุงูููุงุชูุฑ ูุชุตููุฑ ุงูุฅุญุตุงุฆูุงุช")
    print("   โข ๐จ ุชุญุฐูุฑ ุฎุทูุฑ - ูุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู")
    
    print()

def main():
    """ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ"""
    print("๐ ุงุฎุชุจุงุฑ ููุฒุงุช ุงูุชุฃููุฏ ูู ุฅุนุฏุงุฏุงุช ุงููุธุงู")
    print("=" * 60)
    print()
    
    # ุงุฎุชุจุงุฑ ุงูุฅุญุตุงุฆูุงุช ูุน ุงูุญููู ุงูุฌุฏูุฏุฉ
    test_system_stats_with_new_fields()
    
    # ุงุฎุชุจุงุฑ ุฑุณุงุฆู ุงูุชุฃููุฏ
    test_confirmation_messages()
    
    # ุงุฎุชุจุงุฑ ูููู ุงูุฃุฒุฑุงุฑ
    test_button_structure()
    
    # ุงุฎุชุจุงุฑ ููุฒุงุช ุงูุฃูุงู
    test_safety_features()
    
    print("โ ุชู ุงูุงูุชูุงุก ูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช")
    print("\n๐ ููุฎุต ุงูุชุญุฏูุซุงุช:")
    print("   โข ุฅุถุงูุฉ ุฑุณุงุฆู ุชุฃููุฏ ููุตูุฉ")
    print("   โข ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุชุฃููุฏ ูุฅูุบุงุก")
    print("   โข ุชุญุณูู ููุฒุงุช ุงูุฃูุงู")
    print("   โข ุฅุถุงูุฉ ุญููู ุฅุญุตุงุฆูุงุช ุฌุฏูุฏุฉ")
    print("   โข ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู")

if __name__ == "__main__":
    main()
